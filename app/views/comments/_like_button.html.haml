- liked = user_signed_in? && comment.liked_by?(current_user)
.d-flex.align-items-center.gap-2
  - if user_signed_in?
    - if liked
      = button_to "Unlike", comment_like_path(comment),
                  method: :delete, class:"btn btn-outline-danger btn-sm",
                  form: { data: { turbo: false } }
    - else
      = button_to "Like",   comment_like_path(comment),
                  method: :post,    class:"btn btn-warning btn-sm",
                  form: { data: { turbo: false } }
  - else
    = link_to "Log in to like", new_user_session_path, class:"btn btn-outline-dark btn-sm"

  %span.badge.text-bg-light.border= "#{comment.comment_likes.count} likes"
