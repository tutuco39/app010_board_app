!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title Pastel Board
    = csrf_meta_tags
    = csp_meta_tag
    = stylesheet_link_tag "application", "data-turbo-track": "reload"
    = javascript_include_tag "application", "data-turbo-track": "reload", defer: true
    %link{ rel: "stylesheet", href: "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" }
  %body
    %nav.navbar.navbar-expand-lg{:style => "background:#FFE2C9;"}
      .container
        %a.navbar-brand.fw-bold{:href => "/"} Board app
        %button.navbar-toggler{"aria-controls" => "nav", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-bs-target" => "#nav", "data-bs-toggle" => "collapse", :type => "button"}
          %span.navbar-toggler-icon
        #nav.collapse.navbar-collapse
          %ul.navbar-nav.me-auto.mb-2.mb-lg-0
            %li.nav-item= link_to "Topics", topics_path, class:"nav-link"
          .d-flex.gap-2
            - if user_signed_in?
              %span.badge.rounded-pill.text-bg-warning.d-flex.align-items-center.px-3.py-2
                = current_user.email.split('@').first
              = link_to "New Topic", new_topic_path, class:"btn btn-warning"
              = button_to "Log out", destroy_user_session_path, method: :delete, class: "btn btn-outline-dark", form: { data: { turbo: false } }
            - else
              = link_to "Log in", new_user_session_path, class:"btn btn-outline-dark"
              = link_to "Sign up", new_user_registration_path, class:"btn btn-warning"
    .container.my-4
      - if notice
        .alert.alert-success= notice
      - if alert
        .alert.alert-danger= alert
      = yield
