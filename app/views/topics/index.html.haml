.card.shadow-sm.border-0.mb-4
  .card-body
    = form_with url: topics_path, method: :get, local: true do |f|
      .input-group
        = f.text_field :q, value:@q, class:"form-control", placeholder:"Search by title or body"
        %button.btn.btn-warning{:type => "submit"} Search
.vstack.gap-3
  - @topics.each do |t|
    .card.border-0.shadow-sm
      .card-body
        .d-flex.justify-content-between
          %h5.card-title.mb-0
            = link_to t.title, t, class:"stretched-link text-decoration-none text-dark"
          %small.text-muted= t.created_at.strftime("%Y-%m-%d %H:%M")
        %p.card-text.mt-2.text-muted= truncate(strip_tags(simple_format(t.body)), length: 160)
        %span.badge.text-bg-warning
          by #{t.user.email}
        - if t.image.attached?
          %span.badge.text-bg-light.border.ms-2 image
.d-flex.justify-content-center.mt-4
  != pagy_bootstrap_nav(@pagy)
  / ← = ではなく ==（rawと同義）
